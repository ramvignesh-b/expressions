for(var canvasEl=document.querySelector("#canvas");null==canvasEl;)canvasEl=document.querySelector("#canvas");const w=canvasEl.width=window.innerWidth,h=canvasEl.height=2*window.innerHeight;function loop(){requestAnimationFrame(loop),ctx.clearRect(0,0,w,h),confs.forEach(t=>{t.update(),t.draw()})}function Confetti(){const t=["#fde132","#009bde","#ff6b00"];this.x=Math.round(Math.random()*w),this.y=Math.round(Math.random()*h)-h/2,this.rotation=360*Math.random();const o=Math.random()*(w/60);this.size=o<15?15:o,this.color=t[Math.floor(t.length*Math.random())],this.speed=this.size/7,this.opacity=Math.random(),this.shiftDirection=Math.random()>.5?1:-1}Confetti.prototype.border=function(){this.y>=h&&(this.y=h)},Confetti.prototype.update=function(){this.y+=this.speed,this.y<=h&&(this.x+=this.shiftDirection/3,this.rotation+=this.shiftDirection*this.speed/100),this.y>h&&this.border()},Confetti.prototype.draw=function(){ctx.beginPath(),ctx.arc(this.x,this.y,this.size,this.rotation,this.rotation+Math.PI/2),ctx.lineTo(this.x,this.y),ctx.closePath(),ctx.globalAlpha=this.opacity,ctx.fillStyle=this.color,ctx.fill()};const ctx=canvasEl.getContext("2d"),confNum=Math.floor(w/4),confs=new Array(confNum).fill().map(t=>new Confetti);loop();